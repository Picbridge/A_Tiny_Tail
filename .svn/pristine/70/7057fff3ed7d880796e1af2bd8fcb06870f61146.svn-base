using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using UnityEngine.UI;

public class OptionSoundController : MonoBehaviour
{
    public Toggle BGMToggle;
    public Slider BGMSlider;
    public Slider SFXSlider;

    public GameObject SliderCheckmark;

    PlayPlayerSound playerSound;

    private void Start()
    {
        playerSound = GameObject.FindObjectOfType<Character>().GetComponentInChildren<PlayPlayerSound>();    
    }

    public void OnBGMValueChange()
    {        
        SoundManager.instance.BGMValueChange(BGMSlider.value);
    }

     public void OnSFXValueChange()
    {        
        SoundManager.instance.SFXValueChange(SFXSlider.value);
        playerSound.UpdateCharVolume();
    }

    public void MuteAll()
    {
        SliderCheckmark.SetActive(BGMToggle.isOn);

        SoundManager.instance.IsBGMon(!BGMToggle.isOn);
        SoundManager.instance.IsSFXon(!BGMToggle.isOn);

        if (BGMToggle.isOn == true)
        {
            BGMSlider.value = 0;
            SFXSlider.value = 0;

            playerSound.UpdateCharVolume();
        }
        else
        {
            BGMSlider.value = 0.1f;
            SFXSlider.value = 0.5f;

            //SoundManager.instance.SFXValueChange(SFXSlider.value);
            //SoundManager.instance.BGMValueChange(BGMSlider.value);
            //
            playerSound.UpdateCharVolume();
        }
    }

}
